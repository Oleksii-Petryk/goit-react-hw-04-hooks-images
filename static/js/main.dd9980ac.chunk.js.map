{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","services/API.js","components/LogicApp/LogicApp.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","searchImage","setSearchImage","className","styles","SearchForm","e","preventDefault","trim","toast","error","type","button","label","input","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","LoadBox","loader","color","height","width","ImageGallery","children","ImageGalleryItem","images","onClick","setSelectedImgs","tags","target","dataset","alt","largeImageURL","url","map","id","webformatURL","image","src","Button","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","API","queryImages","page","fetch","then","response","ok","json","Promise","reject","Error","LogicApp","setImages","setError","status","setStatus","showModal","setShowModal","largeImage","setLargeImage","setAlt","setPage","scrollTo","top","documentElement","scrollHeight","behavior","requestedImages","hits","length","prevPage","catch","message","prevImages","App","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dd9980ac.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__HUeon\",\"image\":\"ImageGalleryItem_image__ASMD0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1YVDf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2bIyk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2DH82\"};","import React, { useState } from 'react';\nimport styles from './Searchbar.module.css';\nimport { toast } from 'react-toastify';\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchImage, setSearchImage] = useState('');\n\n  const handleSearchChange = e => {\n    setSearchImage(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (searchImage.trim() === '') {\n      return toast.error('Please enter name of requested image');\n    }\n\n    onSubmit(searchImage);\n    setSearchImage('');\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={styles.button}>\n          <span className={styles.label}>Search</span>\n        </button>\n\n        <input\n          className={styles.input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={searchImage}\n          onChange={handleSearchChange}\n        />\n      </form>\n    </header>\n  );\n}\n","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nexport default function LoadBox() {\n  return (\n    <div className={styles.loader}>\n      <Loader type=\"Bars\" color=\"#3f51b5\" height={100} width={100} />\n    </div>\n  );\n}\n","import React from 'react';\nimport styles from './ImageGallery.module.css';\n\nexport default function ImageGallery({ children }) {\n  return <ul className={styles.ImageGallery}>{children}</ul>;\n}\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ images, onClick }) {\n  const setSelectedImgs = e => {\n    const tags = e.target.dataset.alt;\n    const largeImageURL = e.target.dataset.url;\n    onClick({ tags, largeImageURL });\n  };\n\n  return images.map(({ id, webformatURL, tags, largeImageURL }) => (\n    <li className={styles.ImageGalleryItem} key={id} onClick={setSelectedImgs}>\n      <img\n        className={styles.image}\n        src={webformatURL}\n        data-alt={tags}\n        data-url={largeImageURL}\n        alt={tags}\n      />\n    </li>\n  ));\n}\n","import React from 'react';\nimport styles from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" className={styles.button} onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n","import React, { useEffect } from 'react';\nimport styles from './Modal.module.css';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, largeImageURL, alt }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleOverlayClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleOverlayClick}>\n      <div className={styles.Modal}>\n        <img className={styles.image} src={largeImageURL} alt={alt} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n","export function API(queryImages, page) {\n  const KEY = '23249426-cbed7229a7b2fc460ade288c0';\n  return fetch(\n    `https://pixabay.com/api/?q=${queryImages}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`There is no images with name \"${queryImages}\"`),\n    );\n  });\n}\n","import { toast } from 'react-toastify';\nimport React, { useEffect, useState } from 'react';\nimport LoadBox from '../Loader/Loader';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport { API } from '../../services/API';\n\nexport default function LogicApp({ queryImages }) {\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [showModal, setShowModal] = useState(false);\n  const [largeImage, setLargeImage] = useState('');\n  const [alt, setAlt] = useState('');\n  const [page, setPage] = useState(1);\n\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n  \n  useEffect(() => {\n    if (!queryImages) {\n      return;\n    }\n      setStatus('pending');\n      setImages([]);\n      setPage(1);\n\n    API(queryImages)\n      .then(requestedImages => {\n          if (requestedImages.hits.length !== 0) {\n            \n              setImages(requestedImages.hits);\n              setStatus('resolved');\n              setPage(prevPage => prevPage + 1);\n            \n        } else {\n          Promise.reject(\n            toast.error(\n              `Images with name \"${queryImages}\" not found. Try again!!!`,\n            ),\n          );\n        }\n      })\n\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [queryImages]);\n\n  const onLoadMore = () => {\n    setStatus('pending');\n\n    API(queryImages, page)\n      .then(requestedImages => {\n        setImages(prevImages => [...prevImages, ...requestedImages.hits]);\n        setPage(page + 1);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  };\n\n  const onOpenModal = ({ tags, largeImageURL }) => {\n    setAlt(tags);\n    setLargeImage(largeImageURL);\n    setShowModal(true);\n  };\n\n  const onCloseModal = () => {\n    setShowModal(false);\n  };\n\n  if (status === 'idle') {\n    return <ImageGallery />;\n  }\n\n  if (status === 'pending') {\n    return <LoadBox />;\n  }\n\n  if (status === 'rejected') {\n    return <h1>{error.message}</h1>;\n  }\n\n  if (status === 'resolved') {\n    return (\n      <>\n        <ImageGallery>\n          <ImageGalleryItem images={images} onClick={onOpenModal} />\n        </ImageGallery>\n        {images.length !== 0 && <Button onClick={onLoadMore} />}\n        {showModal === true && (\n          <Modal largeImageURL={largeImage} alt={alt} onClose={onCloseModal} />\n        )}\n      </>\n    );\n  }\n}\n","import React, { useState } from 'react';\nimport './App.css';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Searchbar from './components/Searchbar';\nimport LogicApp from './components/LogicApp';\n\nexport default function App() {\n  const [searchImage, setSearchImage] = useState('');\n\n  const formSubmitHandler = searchImage => {\n    setSearchImage(searchImage);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={formSubmitHandler} />\n      <ToastContainer autoClose={3000} />\n      <LogicApp queryImages={searchImage} />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__FUNzR\",\"SearchForm\":\"Searchbar_SearchForm__2B-Ie\",\"button\":\"Searchbar_button__RhuLW\",\"label\":\"Searchbar_label__3K-4K\",\"input\":\"Searchbar_input__lKpCL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__9rY_u\",\"Modal\":\"Modal_Modal__34Z4C\",\"image\":\"Modal_image__1Zi5r\"};"],"sourceRoot":""}