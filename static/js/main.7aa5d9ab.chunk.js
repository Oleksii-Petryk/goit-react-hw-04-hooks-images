(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__HUeon",image:"ImageGalleryItem_image__ASMD0"}},15:function(e,t,a){e.exports={loader:"Loader_loader__1YVDf"}},16:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2bIyk"}},17:function(e,t,a){e.exports={button:"Button_button__2DH82"}},22:function(e,t,a){},23:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),s=(a(22),a(3)),i=(a(23),a(5)),l=(a(24),a(13),a(6)),u=a.n(l),b=a(1);function m(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(b.jsx)("header",{className:u.a.Searchbar,children:Object(b.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===r.trim())return i.b.error("Please enter name of requested image");t(r),o("")},children:[Object(b.jsx)("button",{type:"submit",className:u.a.button,children:Object(b.jsx)("span",{className:u.a.label,children:"Search"})}),Object(b.jsx)("input",{className:u.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var j=a(12),d=a(14),h=a.n(d),g=a(15),f=a.n(g);function O(){return Object(b.jsx)("div",{className:f.a.loader,children:Object(b.jsx)(h.a,{type:"Bars",color:"#3f51b5",height:100,width:100})})}var _=a(16),p=a.n(_);function v(e){var t=e.children;return Object(b.jsx)("ul",{className:p.a.ImageGallery,children:t})}var x=a(11),S=a.n(x);function y(e){var t=e.images,a=e.onClick,n=function(e){var t=e.target.dataset.alt,n=e.target.dataset.url;a({tags:t,largeImageURL:n})};return t.map((function(e){var t=e.id,a=e.webformatURL,c=e.tags,r=e.largeImageURL;return Object(b.jsx)("li",{className:S.a.ImageGalleryItem,onClick:n,children:Object(b.jsx)("img",{className:S.a.image,src:a,"data-alt":c,"data-url":r,alt:c})},t)}))}var I=a(17),w=a.n(I);function k(e){var t=e.onClick;return Object(b.jsx)("button",{type:"button",className:w.a.button,onClick:t,children:"Load more"})}var C=a(9),N=a.n(C),L=document.querySelector("#modal-root");function E(e){var t=e.onClose,a=e.largeImageURL,c=e.alt;Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(b.jsx)("div",{className:N.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(b.jsx)("div",{className:N.a.Modal,children:Object(b.jsx)("img",{className:N.a.image,src:a,alt:c})})}),L)}function G(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("23249426-cbed7229a7b2fc460ade288c0","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error('There is no images with name "'.concat(e,'"')))}))}function M(e){var t=e.queryImages,a=Object(n.useState)([]),c=Object(s.a)(a,2),r=c[0],o=c[1],l=Object(n.useState)(null),u=Object(s.a)(l,2),m=u[0],d=u[1],h=Object(n.useState)("idle"),g=Object(s.a)(h,2),f=g[0],_=g[1],p=Object(n.useState)(!1),x=Object(s.a)(p,2),S=x[0],I=x[1],w=Object(n.useState)(""),C=Object(s.a)(w,2),N=C[0],L=C[1],M=Object(n.useState)(""),R=Object(s.a)(M,2),U=R[0],F=R[1],T=Object(n.useState)(1),q=Object(s.a)(T,2),B=q[0],D=q[1];Object(n.useEffect)((function(){t&&(_("pending"),D(1),G(t).then((function(e){0!==e.hits.length?(o(e.hits),_("resolved"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),D((function(e){return e+1}))):Promise.reject(i.b.error('Images with name "'.concat(t,'" not found. Try again!!!')))})).catch((function(e){d(e),_("rejected")})))}),[t]);return"idle"===f?Object(b.jsx)(v,{}):"pending"===f?Object(b.jsx)(O,{}):"rejected"===f?Object(b.jsx)("h1",{children:m.message}):"resolved"===f?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(v,{children:Object(b.jsx)(y,{images:r,onClick:function(e){var t=e.tags,a=e.largeImageURL;F(t),L(a),I(!0)}})}),0!==r.length&&Object(b.jsx)(k,{onClick:function(){G(t,B).then((function(e){o((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e.hits))})),D(B+1),_("resolved"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){d(e),_("rejected")}))}}),!0===S&&Object(b.jsx)(E,{largeImageURL:N,alt:U,onClose:function(){I(!1)}})]}):void 0}function R(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(m,{onSubmit:function(e){c(e)}}),Object(b.jsx)(i.a,{autoClose:3e3}),Object(b.jsx)(M,{queryImages:a})]})}o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(R,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__FUNzR",SearchForm:"Searchbar_SearchForm__2B-Ie",button:"Searchbar_button__RhuLW",label:"Searchbar_label__3K-4K",input:"Searchbar_input__lKpCL"}},9:function(e,t,a){e.exports={Overlay:"Modal_Overlay__9rY_u",Modal:"Modal_Modal__34Z4C",image:"Modal_image__1Zi5r"}}},[[46,1,2]]]);
//# sourceMappingURL=main.7aa5d9ab.chunk.js.map